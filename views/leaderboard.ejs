<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Leaderboard - Knowledge Hub</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
</head>

<body class="bg-gradient-to-br from-blue-50 via-white to-purple-50 min-h-screen text-gray-800">


  <header
    class="sticky top-0 z-50 w-full border-b bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/80 shadow-sm">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-16">
        <a href="/" class="flex items-center space-x-2 group">
          <div class="relative">
            <svg class="h-8 w-8 text-blue-600 group-hover:text-purple-600 transition-colors duration-300" fill="none"
              stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path d="M13 10V3L4 14h7v7l9-11h-7z" />
            </svg>
            <div
              class="absolute inset-0 bg-blue-600 group-hover:bg-purple-600 opacity-20 rounded-full blur-sm transition-all duration-300">
            </div>
          </div>
          <span
            class="text-xl sm:text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">StackIt</span>
        </a>
        <nav class="hidden lg:flex items-center space-x-4">
          <a href="/questions"
            class="text-gray-600 hover:text-blue-600 hover:bg-blue-50 px-3 py-2 rounded-lg transition">Questions</a>
          <a href="/postquestion"
            class="text-gray-600 hover:text-blue-600 hover:bg-blue-50 px-3 py-2 rounded-lg transition">Post Question</a>
          <a href="/leaderboard"
            class="text-blue-600 bg-blue-50 px-3 py-2 rounded-lg font-semibold transition">Leaderboard</a>
          <a href="/topics"
            class="text-gray-600 hover:text-blue-600 hover:bg-blue-50 px-3 py-2 rounded-lg transition">Topics</a>
          <a href="/community"
            class="text-gray-600 hover:text-blue-600 hover:bg-blue-50 px-3 py-2 rounded-lg transition">Users</a>
        </nav>
        <div class="hidden md:flex relative max-w-sm w-full mx-4">
          <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4" fill="none"
            stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path d="M21 21l-6-6m2-5a7 7 0 1 1-14 0 7 7 0 0 1 14 0z" />
          </svg>
          <input type="text" placeholder="Search..."
            class="pl-10 bg-gray-50 border border-gray-200 rounded-md py-2 px-3 focus:bg-white focus:border-blue-300 transition-all duration-200 w-full" />
        </div>
        <div class="flex items-center space-x-4 lg:space-x-2">
          <a href="/profile" class="hidden md:block p-2 rounded-md hover:bg-gray-100 transition">
            <svg class="h-5 w-5 text-gray-600" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path
                d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" />
            </svg>
          </a>
          <button id="mobileToggle" class="block lg:hidden p-2 rounded-md hover:bg-gray-100">
            <svg class="h-6 w-6 text-gray-700" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path d="M4 6h16M4 12h16M4 18h16" />
            </svg>
          </button>
        </div>
      </div>
    </div>
    <div id="mobileMenu" class="lg:hidden hidden px-4 pb-4">
      <nav class="space-y-2 mt-2">
        <a href="/questions"
          class="block text-gray-600 hover:text-blue-600 hover:bg-blue-50 px-3 py-2 rounded-lg transition">Questions</a>
        <a href="/leaderboard" class="block text-blue-600 font-semibold bg-blue-50 px-3 py-2 rounded-lg">Leaderboard</a>
        <a href="/tags"
          class="block text-gray-600 hover:text-blue-600 hover:bg-blue-50 px-3 py-2 rounded-lg transition">Tags</a>
        <a href="/users"
          class="block text-gray-600 hover:text-blue-600 hover:bg-blue-50 px-3 py-2 rounded-lg transition">Users</a>
        <a href="/profile"
          class="block text-gray-600 hover:text-blue-600 hover:bg-blue-50 px-3 py-2 rounded-lg transition">Profile</a>
      </nav>
    </div>
  </header>


  <script>
    document.getElementById('mobileToggle').addEventListener('click', () => {
      document.getElementById('mobileMenu').classList.toggle('hidden');
    });
  </script>


  <div class="max-w-7xl mx-auto px-4 py-8">
    <div class="text-center mb-10">
      <div class="flex items-center justify-center space-x-3 mb-4">
        <svg class="w-10 h-10 text-yellow-500 animate-pulse" fill="none" stroke="currentColor" stroke-width="2"
          viewBox="0 0 24 24">
          <path d="M6 12l6-6 6 6M6 18l6-6 6 6" />
        </svg>
        <h1
          class="text-4xl font-bold bg-gradient-to-r from-yellow-600 via-orange-600 to-red-600 bg-clip-text text-transparent">
          Leaderboard
        </h1>
        <svg class="w-8 h-8 text-yellow-500 animate-pulse delay-300" fill="none" stroke="currentColor" stroke-width="2"
          viewBox="0 0 24 24">
          <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z" />
        </svg>
      </div>
      <p class="text-lg text-gray-600 max-w-2xl mx-auto">
        Top contributors making the community better with their knowledge and expertise.
      </p>
    </div>


    <div id="top3" class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12"></div>

    <!-- Other Contributors -->
    <div class="bg-white shadow-lg rounded-lg p-6">
      <h2 class="text-xl font-bold mb-4 text-blue-600 flex items-center gap-2">
        <svg class="w-6 h-6 text-blue-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path d="M16 17l-4 4m0 0l-4-4m4 4V3" />
        </svg>
        Top Contributors
      </h2>
      <div id="others" class="space-y-4"></div>
    </div>
  </div>


 <script>
  const leaderboard = <%- JSON.stringify(leaderboard || []) %>;

  const rankColors = [
    "from-yellow-400 to-orange-500",
    "from-gray-300 to-gray-500",
    "from-amber-400 to-amber-600"
  ];

  const top3Container = document.getElementById('top3');
  leaderboard.slice(0, 3).forEach((c, i) => {
    const div = document.createElement('div');
    div.className = `bg-white shadow-lg rounded-lg p-6 text-center relative transition-transform transform hover:scale-105 ${i === 0 ? 'md:order-2 md:scale-110' : i === 1 ? 'md:order-1' : 'md:order-3'}`;
    div.innerHTML = `
      <div class="absolute top-0 left-0 right-0 h-2 bg-gradient-to-r ${rankColors[i] || 'from-blue-500 to-purple-500'}"></div>
      <div class="w-20 h-20 bg-gradient-to-r ${rankColors[i] || 'from-blue-500 to-purple-500'} text-white font-bold rounded-full flex items-center justify-center mx-auto mb-3 text-xl">
        ${c.username?.[0]?.toUpperCase() || 'U'}
      </div>
      <div class="text-lg font-semibold">${c.username || 'Unknown'}</div>
      <div class="grid grid-cols-2 gap-4 mt-4 text-sm text-gray-600">
        <div><strong class="text-blue-600">${c.questionCount}</strong><div>Questions</div></div>
        <div><strong class="text-green-600">${c.answerCount}</strong><div>Answers</div></div>
      </div>
    `;
    top3Container.appendChild(div);
  });

  const othersContainer = document.getElementById('others');
  leaderboard.slice(3).forEach((c, i) => {
    const div = document.createElement('div');
    div.className = "flex items-center justify-between p-4 rounded-lg bg-gray-50 hover:bg-gray-100 transition";
    div.innerHTML = `
      <div class="flex items-center gap-4">
        <div class="w-8 h-8 bg-blue-500 text-white flex items-center justify-center rounded-full font-bold">#${i + 4}</div>
        <div class="w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 text-white flex items-center justify-center rounded-full text-lg font-bold">
          ${c.username?.[0]?.toUpperCase() || 'U'}
        </div>
        <div>
          <div class="font-semibold">${c.username || 'Unknown'}</div>
        </div>
      </div>
      <div class="flex gap-6 text-sm">
        <div class="text-center">
          <div class="text-blue-600 font-semibold">${c.questionCount}</div>
          <div class="text-gray-500">Questions</div>
        </div>
        <div class="text-center">
          <div class="text-green-600 font-semibold">${c.answerCount}</div>
          <div class="text-gray-500">Answers</div>
        </div>
      </div>
    `;
    othersContainer.appendChild(div);
  });
</script>


</body>

</html>